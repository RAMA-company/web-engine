<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAMA STUDIO | Landing Page Builder</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #4F46E5;
            --primary-dark: #4338CA;
            --secondary: #10B981;
            --dark: #1E293B;
            --light: #F8FAFC;
            --gray: #64748B;
            --light-gray: #E2E8F0;
            --white: #FFFFFF;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s ease;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-family);
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid var(--light-gray);
            margin-bottom: 2rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .logo-icon {
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }
        
        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        /* Hero Section */
        .hero {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
        }
        
        .hero h1 {
            font-size: 2.25rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .hero p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto 1.5rem;
            color: var(--gray);
        }
        
        /* Builder Layout */
        .builder {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        @media (min-width: 992px) {
            .builder {
                grid-template-columns: 300px 1fr;
            }
        }
        
        /* Components Panel */
        .components-panel {
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            height: fit-content;
        }
        
        .panel-title {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .components-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        @media (min-width: 576px) {
            .components-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .component-card {
            background: var(--light);
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            padding: 1rem;
            text-align: center;
            cursor: move;
            transition: var(--transition);
        }
        
        .component-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }
        
        .component-icon {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }
        
        .component-name {
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        /* Canvas Area */
        .canvas-area {
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            min-height: 500px;
            border: 1px dashed var(--light-gray);
        }
        
        .canvas-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .canvas-title {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .canvas-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .canvas-content {
            min-height: 400px;
            padding: 1rem;
        }
        
        .drop-zone {
            border: 2px dashed var(--light-gray);
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            color: var(--gray);
            margin-bottom: 1rem;
        }
        
        /* Component Styles */
        .component {
            background: var(--white);
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            transition: var(--transition);
        }
        
        .component:hover {
            border-color: var(--primary);
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        }
        
        .component-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .component-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary);
        }
        
        .component-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .action-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--light);
            border: 1px solid var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .action-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .component-body {
            padding: 0.5rem 0;
        }
        
        /* Form Elements */
        .form-group {
            margin-bottom: 1rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            font-family: inherit;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .color-picker {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .color-option.active {
            border-color: var(--dark);
            transform: scale(1.1);
        }
        
        /* Image Upload */
        .image-upload {
            border: 2px dashed var(--light-gray);
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .image-upload:hover {
            border-color: var(--primary);
        }
        
        .image-preview {
            max-width: 100%;
            border-radius: var(--border-radius);
            margin-top: 1rem;
            display: none;
        }
        
        /* Chart Container */
        .chart-container {
            height: 250px;
            margin-top: 1rem;
        }
        
        /* Export Panel */
        .export-panel {
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .export-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .export-title {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .export-actions {
            display: flex;
            gap: 1rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            font-family: inherit;
            font-weight: 500;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: rgba(79, 70, 229, 0.05);
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid var(--light-gray);
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 1.75rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .panel-title {
                font-size: 1.1rem;
            }
            
            .canvas-title {
                font-size: 1.25rem;
            }
            
            .btn {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 576px) {
            .header {
                flex-direction: column;
                gap: 1rem;
            }
            
            .components-grid {
                grid-template-columns: 1fr;
            }
            
            .export-actions {
                flex-direction: column;
                width: 100%;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* Notification */
        .notification {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            background: var(--primary);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition);
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="logo-text">RAMA STUDIO</div>
            </div>
            <div class="save-status">
                <span id="last-saved">Changes saved: Just now</span>
            </div>
        </header>
        
        <!-- Hero Section -->
        <section class="hero">
            <h1>Professional Landing Page Builder</h1>
            <p>Create stunning, responsive landing pages with no coding required. Perfect for portfolios, products, and services.</p>
        </section>
        
        <!-- Builder Area -->
        <div class="builder">
            <!-- Components Panel -->
            <div class="components-panel">
                <h2 class="panel-title"><i class="fas fa-shapes"></i> Components</h2>
                <div class="components-grid">
                    <div class="component-card" draggable="true" data-type="hero">
                        <div class="component-icon">
                            <i class="fas fa-heading"></i>
                        </div>
                        <div class="component-name">Hero Section</div>
                    </div>
                    <div class="component-card" draggable="true" data-type="features">
                        <div class="component-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="component-name">Features</div>
                    </div>
                    <div class="component-card" draggable="true" data-type="testimonials">
                        <div class="component-icon">
                            <i class="fas fa-quote-left"></i>
                        </div>
                        <div class="component-name">Testimonials</div>
                    </div>
                    <div class="component-card" draggable="true" data-type="image">
                        <div class="component-icon">
                            <i class="fas fa-image"></i>
                        </div>
                        <div class="component-name">Image</div>
                    </div>
                    <div class="component-card" draggable="true" data-type="chart">
                        <div class="component-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="component-name">Chart</div>
                    </div>
                    <div class="component-card" draggable="true" data-type="cta">
                        <div class="component-icon">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <div class="component-name">Call to Action</div>
                    </div>
                </div>
            </div>
            
            <!-- Canvas Area -->
            <div class="canvas-area">
                <div class="canvas-header">
                    <h2 class="canvas-title">Your Landing Page</h2>
                    <div class="canvas-actions">
                        <button class="action-btn" title="Clear all">
                            <i class="fas fa-trash"></i>
                        </button>
                        <button class="action-btn" title="Reset to default">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>
                </div>
                <div class="canvas-content" id="canvas">
                    <div class="drop-zone">
                        <i class="fas fa-arrow-down fa-2x" style="margin-bottom: 1rem;"></i>
                        <h3>Drag components here</h3>
                        <p>Start building your landing page by dragging components from the left panel</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Export Panel -->
        <div class="export-panel">
            <div class="export-header">
                <h2 class="export-title">Export Your Landing Page</h2>
                <div class="export-actions">
                    <button class="btn btn-outline" id="preview-btn">
                        <i class="fas fa-eye"></i> Preview
                    </button>
                    <button class="btn btn-primary" id="export-btn">
                        <i class="fas fa-download"></i> Download ZIP
                    </button>
                </div>
            </div>
            <div class="form-group">
                <label for="page-title">Page Title</label>
                <input type="text" id="page-title" placeholder="Enter page title...">
            </div>
            <div class="form-group">
                <label for="color-theme">Color Theme</label>
                <div class="color-picker">
                    <div class="color-option active" style="background: #4F46E5;" data-color="#4F46E5"></div>
                    <div class="color-option" style="background: #2563EB;" data-color="#2563EB"></div>
                    <div class="color-option" style="background: #059669;" data-color="#059669"></div>
                    <div class="color-option" style="background: #D97706;" data-color="#D97706"></div>
                    <div class="color-option" style="background: #DC2626;" data-color="#DC2626"></div>
                    <div class="color-option" style="background: #7C3AED;" data-color="#7C3AED"></div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="footer">
            <p>RAMA STUDIO Landing Page Builder &copy; 2023 | All Rights Reserved</p>
            <p>Optimized for GitHub Pages | No server-side processing required</p>
        </footer>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">Your changes have been saved!</div>
    
    <script>
        // State Management
        let currentComponents = [];
        let currentTheme = "#4F46E5";
        let savedData = {
            title: "My Landing Page",
            theme: "#4F46E5",
            components: []
        };
        
        // DOM Elements
        const canvas = document.getElementById('canvas');
        const notification = document.getElementById('notification');
        const lastSaved = document.getElementById('last-saved');
        const exportBtn = document.getElementById('export-btn');
        const previewBtn = document.getElementById('preview-btn');
        const pageTitleInput = document.getElementById('page-title');
        
        // Initialize the builder
        function initBuilder() {
            // Load saved data if exists
            const saved = localStorage.getItem('landingProject');
            if (saved) {
                savedData = JSON.parse(saved);
                currentComponents = savedData.components;
                currentTheme = savedData.theme;
                pageTitleInput.value = savedData.title;
                
                renderComponents();
                updateLastSaved();
            }
            
            // Set up drag and drop
            setupDragAndDrop();
            
            // Set up event listeners
            exportBtn.addEventListener('click', exportLandingPage);
            previewBtn.addEventListener('click', previewLandingPage);
            pageTitleInput.addEventListener('input', saveData);
            
            // Set up color picker
            document.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.color-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    option.classList.add('active');
                    currentTheme = option.dataset.color;
                    saveData();
                });
            });
        }
        
        // Set up drag and drop
        function setupDragAndDrop() {
            const components = document.querySelectorAll('.component-card');
            
            components.forEach(component => {
                component.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', component.dataset.type);
                });
            });
            
            canvas.addEventListener('dragover', (e) => {
                e.preventDefault();
                canvas.classList.add('dragover');
            });
            
            canvas.addEventListener('dragleave', () => {
                canvas.classList.remove('dragover');
            });
            
            canvas.addEventListener('drop', (e) => {
                e.preventDefault();
                canvas.classList.remove('dragover');
                
                const type = e.dataTransfer.getData('text/plain');
                addComponent(type);
            });
        }
        
        // Add a new component
        function addComponent(type) {
            const id = Date.now();
            const component = { id, type };
            
            switch(type) {
                case 'hero':
                    component.title = "Welcome to My Landing Page";
                    component.subtitle = "A short description of what you offer";
                    break;
                case 'features':
                    component.title = "Key Features";
                    component.features = [
                        { title: "Feature 1", description: "Description of feature 1" },
                        { title: "Feature 2", description: "Description of feature 2" },
                        { title: "Feature 3", description: "Description of feature 3" }
                    ];
                    break;
                case 'testimonials':
                    component.title = "What Our Clients Say";
                    component.testimonials = [
                        { name: "John Doe", role: "CEO, Company", content: "This product changed our business!" },
                        { name: "Jane Smith", role: "Marketing Director", content: "Incredible results in just one week." }
                    ];
                    break;
                case 'image':
                    component.title = "Featured Image";
                    component.imageUrl = "";
                    break;
                case 'chart':
                    component.title = "Performance Metrics";
                    component.chartType = "bar";
                    component.labels = ["Q1", "Q2", "Q3", "Q4"];
                    component.data = [65, 59, 80, 81];
                    break;
                case 'cta':
                    component.title = "Ready to Get Started?";
                    component.subtitle = "Join thousands of satisfied customers today";
                    component.buttonText = "Sign Up Now";
                    break;
            }
            
            currentComponents.push(component);
            renderComponents();
            saveData();
        }
        
        // Render components on canvas
        function renderComponents() {
            canvas.innerHTML = '';
            
            if (currentComponents.length === 0) {
                canvas.innerHTML = `
                    <div class="drop-zone">
                        <i class="fas fa-arrow-down fa-2x" style="margin-bottom: 1rem;"></i>
                        <h3>Drag components here</h3>
                        <p>Start building your landing page by dragging components from the left panel</p>
                    </div>
                `;
                return;
            }
            
            currentComponents.forEach((component, index) => {
                const element = document.createElement('div');
                element.className = 'component';
                element.dataset.index = index;
                
                let bodyContent = '';
                
                switch(component.type) {
                    case 'hero':
                        bodyContent = `
                            <div class="form-group">
                                <label>Title</label>
                                <input type="text" value="${component.title}" onchange="updateComponent(${index}, 'title', this.value)">
                            </div>
                            <div class="form-group">
                                <label>Subtitle</label>
                                <textarea onchange="updateComponent(${index}, 'subtitle', this.value)">${component.subtitle}</textarea>
                            </div>
                        `;
                        break;
                    case 'features':
                        bodyContent = `
                            <div class="form-group">
                                <label>Section Title</label>
                                <input type="text" value="${component.title}" onchange="updateComponent(${index}, 'title', this.value)">
                            </div>
                            ${component.features.map((feature, i) => `
                                <div class="form-group">
                                    <label>Feature ${i+1}</label>
                                    <input type="text" value="${feature.title}" placeholder="Feature title" onchange="updateFeature(${index}, ${i}, 'title', this.value)">
                                    <textarea placeholder="Feature description" onchange="updateFeature(${index}, ${i}, 'description', this.value)">${feature.description}</textarea>
                                </div>
                            `).join('')}
                            <button class="btn btn-outline" onclick="addFeature(${index})">
                                <i class="fas fa-plus"></i> Add Feature
                            </button>
                        `;
                        break;
                    case 'image':
                        bodyContent = `
                            <div class="form-group">
                                <label>Section Title</label>
                                <input type="text" value="${component.title}" onchange="updateComponent(${index}, 'title', this.value)">
                            </div>
                            <div class="image-upload" onclick="document.getElementById('image-input-${index}').click()">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Click to upload an image</p>
                                <input type="file" id="image-input-${index}" style="display: none;" accept="image/*" onchange="handleImageUpload(${index}, this)">
                                <img src="${component.imageUrl}" class="image-preview" id="image-preview-${index}">
                            </div>
                        `;
                        if (component.imageUrl) {
                            document.getElementById(`image-preview-${index}`).style.display = 'block';
                        }
                        break;
                    case 'chart':
                        bodyContent = `
                            <div class="form-group">
                                <label>Section Title</label>
                                <input type="text" value="${component.title}" onchange="updateComponent(${index}, 'title', this.value)">
                            </div>
                            <div class="form-group">
                                <label>Chart Type</label>
                                <select onchange="updateComponent(${index}, 'chartType', this.value)">
                                    <option value="bar" ${component.chartType === 'bar' ? 'selected' : ''}>Bar Chart</option>
                                    <option value="line" ${component.chartType === 'line' ? 'selected' : ''}>Line Chart</option>
                                    <option value="pie" ${component.chartType === 'pie' ? 'selected' : ''}>Pie Chart</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="chart-${index}"></canvas>
                            </div>
                        `;
                        break;
                    case 'cta':
                        bodyContent = `
                            <div class="form-group">
                                <label>Title</label>
                                <input type="text" value="${component.title}" onchange="updateComponent(${index}, 'title', this.value)">
                            </div>
                            <div class="form-group">
                                <label>Subtitle</label>
                                <textarea onchange="updateComponent(${index}, 'subtitle', this.value)">${component.subtitle}</textarea>
                            </div>
                            <div class="form-group">
                                <label>Button Text</label>
                                <input type="text" value="${component.buttonText}" onchange="updateComponent(${index}, 'buttonText', this.value)">
                            </div>
                        `;
                        break;
                }
                
                element.innerHTML = `
                    <div class="component-header">
                        <div class="component-title">${component.type.charAt(0).toUpperCase() + component.type.slice(1)}</div>
                        <div class="component-actions">
                            <div class="action-btn" onclick="moveComponentUp(${index})">
                                <i class="fas fa-arrow-up"></i>
                            </div>
                            <div class="action-btn" onclick="moveComponentDown(${index})">
                                <i class="fas fa-arrow-down"></i>
                            </div>
                            <div class="action-btn" onclick="removeComponent(${index})">
                                <i class="fas fa-times"></i>
                            </div>
                        </div>
                    </div>
                    <div class="component-body">
                        ${bodyContent}
                    </div>
                `;
                
                canvas.appendChild(element);
            });
        }
        
        // Update a component property
        function updateComponent(index, property, value) {
            currentComponents[index][property] = value;
            saveData();
        }
        
        // Update a feature in a features component
        function updateFeature(componentIndex, featureIndex, property, value) {
            currentComponents[componentIndex].features[featureIndex][property] = value;
            saveData();
        }
        
        // Add a new feature to a features component
        function addFeature(componentIndex) {
            currentComponents[componentIndex].features.push({
                title: `Feature ${currentComponents[componentIndex].features.length + 1}`,
                description: "Description of this feature"
            });
            renderComponents();
            saveData();
        }
        
        // Move component up
        function moveComponentUp(index) {
            if (index > 0) {
                const temp = currentComponents[index];
                currentComponents[index] = currentComponents[index - 1];
                currentComponents[index - 1] = temp;
                renderComponents();
                saveData();
            }
        }
        
        // Move component down
        function moveComponentDown(index) {
            if (index < currentComponents.length - 1) {
                const temp = currentComponents[index];
                currentComponents[index] = currentComponents[index + 1];
                currentComponents[index + 1] = temp;
                renderComponents();
                saveData();
            }
        }
        
        // Remove component
        function removeComponent(index) {
            currentComponents.splice(index, 1);
            renderComponents();
            saveData();
        }
        
        // Handle image upload
        function handleImageUpload(index, input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentComponents[index].imageUrl = e.target.result;
                    document.getElementById(`image-preview-${index}`).src = e.target.result;
                    document.getElementById(`image-preview-${index}`).style.display = 'block';
                    saveData();
                };
                reader.readAsDataURL(file);
            }
        }
        
        // Save data to localStorage
        function saveData() {
            savedData = {
                title: pageTitleInput.value,
                theme: currentTheme,
                components: currentComponents
            };
            
            localStorage.setItem('landingProject', JSON.stringify(savedData));
            showNotification('Your changes have been saved!');
            updateLastSaved();
        }
        
        // Update last saved time
        function updateLastSaved() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            lastSaved.textContent = `Changes saved: ${timeString}`;
        }
        
        // Show notification
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Preview landing page
        function previewLandingPage() {
            alert('Preview functionality would show your complete landing page in a new window. In a real implementation, this would render the actual page.');
        }
        
        // Export landing page as ZIP
        function exportLandingPage() {
            const title = savedData.title || 'landing-page';
            
            // Generate HTML content
            const htmlContent = `
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>${savedData.title}</title>
                    <style>
                        /* Your landing page CSS would be generated here */
                        body {
                            font-family: Arial, sans-serif;
                            line-height: 1.6;
                            color: #333;
                            max-width: 1200px;
                            margin: 0 auto;
                            padding: 20px;
                        }
                        .header {
                            text-align: center;
                            padding: 40px 0;
                        }
                        .section {
                            margin: 40px 0;
                        }
                        /* More styles would be generated based on the components */
                    </style>
                </head>
                <body>
                    <!-- Your landing page HTML would be generated here -->
                    <div class="container">
                        ${savedData.components.map(component => {
                            switch(component.type) {
                                case 'hero':
                                    return `
                                        <div class="hero-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 60px 20px; text-align: center; border-radius: 12px;">
                                            <h1 style="color: ${savedData.theme}; font-size: 2.5rem;">${component.title}</h1>
                                            <p style="font-size: 1.2rem; max-width: 700px; margin: 0 auto;">${component.subtitle}</p>
                                        </div>
                                    `;
                                case 'features':
                                    return `
                                        <div class="features-section">
                                            <h2 style="text-align: center; color: ${savedData.theme};">${component.title}</h2>
                                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px;">
                                                ${component.features.map(feature => `
                                                    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);">
                                                        <h3>${feature.title}</h3>
                                                        <p>${feature.description}</p>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    `;
                                case 'image':
                                    return component.imageUrl ? `
                                        <div class="image-section">
                                            <h2 style="text-align: center; color: ${savedData.theme};">${component.title}</h2>
                                            <img src="${component.imageUrl}" alt="Featured" style="max-width: 100%; border-radius: 12px; margin-top: 20px;">
                                        </div>
                                    ` : '';
                                default:
                                    return '';
                            }
                        }).join('')}
                    </div>
                </body>
                </html>
            `;
            
            // Create ZIP file
            const zip = new JSZip();
            zip.file("index.html", htmlContent);
            
            // Add other assets if needed (like images)
            savedData.components.forEach((component, index) => {
                if (component.type === 'image' && component.imageUrl) {
                    // In a real implementation, we would add the actual image file
                    // For this demo, we're just adding a placeholder
                    zip.file(`images/image-${index}.txt`, "Image file would be included here");
                }
            });
            
            zip.generateAsync({type:"blob"})
            .then(function(content) {
                saveAs(content, `${title.replace(/\s+/g, '-').toLowerCase()}.zip`);
                showNotification('Landing page exported successfully!');
            });
        }
        
        // Initialize the builder
        document.addEventListener('DOMContentLoaded', initBuilder);
        
        // Expose functions to global scope for inline event handlers
        window.updateComponent = updateComponent;
        window.updateFeature = updateFeature;
        window.addFeature = addFeature;
        window.moveComponentUp = moveComponentUp;
        window.moveComponentDown = moveComponentDown;
        window.removeComponent = removeComponent;
        window.handleImageUpload = handleImageUpload;
    </script>
</body>
</html>
